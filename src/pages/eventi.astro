---
import Layout from "../layouts/Layout.astro";
import PageTitle from "../components/PageTitle.astro";
import EventCard from "../components/EventCard.astro";
import PastEventCard from "../components/PastEventCard.astro";
import Grid from "../components/Grid.astro";
import { getCollection } from "astro:content";

import chiSiamoImage from "../assets/chi-siamo.jpg";

const events = await getCollection("events");
---

<Layout title="Eventi - AFK Progetto Giovani">
    <main>
        <PageTitle title="EVENTI" img="/afkprogettogiovani/chi-siamo.jpg" />
        <section>
            <h2>PROSSIMI EVENTI</h2>
            <EventCard
                title="Il sentiero d'argento"
                text="Un giovane becchino, un filosofo dimenticato e un trattato proibito: questa storia racconta quanto puÃ² essere potente un'idea, anche quando il mondo la ignora"
                url="https://wa.me/+393513190008"
                date="Sabato 8 giu 2024"
                place="Auditorium Padre Reina Rho"
                img={chiSiamoImage}
                alt="Una foto di noi"
            />
        </section>
        <section class="section-light" id="eventi-passati">
            <h2>EVENTI PASSATI</h2>
            <Grid>
                {
                    events.map((event) => (
                        <PastEventCard
                            url={`/afkprogettogiovani/events/${event.slug}`}
                            title={event.data.title}
                            text={event.data.text}
                            date={event.data.date.toLocaleDateString("it-it", {day: "numeric", month: "long", year: "numeric"})}
                            img={event.data.image}
                        />
                    ))
                }
            </Grid>
        </section>
    </main>
</Layout>
